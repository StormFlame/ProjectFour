(this["webpackJsonpjwt-boilerplate"]=this["webpackJsonpjwt-boilerplate"]||[]).push([[0],{179:function(e,t,n){},180:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(60),c=n.n(r),o=(n(178),n(179),n(9)),s=n(12),i=(n(180),n(11)),l=n.n(i),u=n(22),j=n(18),d=n(21),b=n(1);function h(e){return Object(b.jsx)("span",{className:"error",children:e.error})}var p=n(215),O=n(216),m=n(209),x=n(218),f=n(214);function g(){var e=localStorage.getItem("token");e&&(JSON.parse(atob(e.split(".")[1])).exp<Date.now()/1e3&&(localStorage.removeItem("token"),e=null));return e}var v={setToken:function(e){e?localStorage.setItem("token",e):localStorage.removeItem("token")},getToken:g,removeToken:function(){localStorage.removeItem("token")},getUserFromToken:function(){var e=g();return e?JSON.parse(atob(e.split(".")[1])).user:null}},C="/api/users/";var y={signup:function(e){return fetch(C+"signup",{method:"POST",body:e}).then((function(e){if(e.ok)return e.json();throw new Error("Email already taken!")})).then((function(e){var t=e.token;return v.setToken(t)}))},logout:function(){v.removeToken()},login:function(e){return fetch(C+"login",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw new Error("Bad Credentials!")})).then((function(e){var t=e.token;return v.setToken(t)}))},getUser:function(){return v.getUserFromToken()},getProfile:function(e){return fetch(C+e,{headers:{Authorization:"Bearer "+v.getToken()}}).then((function(e){if(e.ok)return e.json();throw new Error("Bad Credentials")}))}};function k(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=(n[1],Object(a.useState)("")),i=Object(o.a)(c,2),g=i[0],v=i[1],C=Object(a.useState)(""),k=Object(o.a)(C,2),w=k[0],S=k[1],U=Object(a.useState)({username:"",email:"",password:"",passwordConf:""}),T=Object(o.a)(U,2),A=T[0],P=T[1],N=Object(s.g)();function D(e){P(Object(d.a)(Object(d.a)({},A),{},Object(j.a)({},e.target.name,e.target.value)))}function L(){return(L=Object(u.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r in n.preventDefault(),(a=new FormData).append("photo",w),A)a.append(r,A[r]);return t.prev=4,t.next=7,y.signup(a);case 7:e.handleSignUpOrLogin(),N.push("/"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),console.log(t.t0.message),v(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})))).apply(this,arguments)}return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(p.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(b.jsxs)(p.a.Column,{style:{maxWidth:450},children:[Object(b.jsx)(O.a,{as:"h2",color:"red",textAlign:"center"}),Object(b.jsxs)(m.a,{autoComplete:"off",onSubmit:function(e){return L.apply(this,arguments)},children:[Object(b.jsxs)(x.a,{stacked:!0,children:[Object(b.jsx)(m.a.Input,{name:"username",placeholder:"username",value:A.username,onChange:D,required:!0}),Object(b.jsx)(m.a.Input,{type:"email",name:"email",placeholder:"email",value:A.email,onChange:D,required:!0}),Object(b.jsx)(m.a.Input,{name:"password",type:"password",placeholder:"password",value:A.password,onChange:D,required:!0}),Object(b.jsx)(m.a.Input,{name:"passwordConf",type:"password",placeholder:"Confirm Password",value:A.passwordConf,onChange:D,required:!0}),Object(b.jsx)(m.a.Field,{children:Object(b.jsx)(m.a.Input,{type:"file",name:"photo",placeholder:"upload image",onChange:function(e){S(e.target.files[0])}})}),Object(b.jsx)(f.a,{type:"submit",className:"btn",disabled:r,children:"Signup"})]}),g?Object(b.jsx)(h,{error:g}):null]})]})})})}n(193);var w=n(213),S=n(25);function U(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=(n[1],Object(a.useState)("")),i=Object(o.a)(c,2),g=i[0],v=i[1],C=Object(a.useState)({email:"",password:""}),k=Object(o.a)(C,2),U=k[0],T=k[1],A=Object(s.g)();function P(e){T(Object(d.a)(Object(d.a)({},U),{},Object(j.a)({},e.target.name,e.target.value)))}function N(){return(N=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,y.login(U);case 4:e.handleSignUpOrLogin(),A.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),v(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(p.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(b.jsxs)(p.a.Column,{style:{maxWidth:450},children:[Object(b.jsx)(O.a,{as:"h2",color:"red",textAlign:"center"}),Object(b.jsx)(m.a,{autoComplete:"off",onSubmit:function(e){return N.apply(this,arguments)},children:Object(b.jsxs)(x.a,{stacked:!0,children:[Object(b.jsx)(m.a.Input,{type:"email",name:"email",placeholder:"email",value:U.email,onChange:P,required:!0}),Object(b.jsx)(m.a.Input,{name:"password",type:"password",placeholder:"password",value:U.password,onChange:P,required:!0}),Object(b.jsx)(f.a,{color:"red",fluid:!0,size:"large",type:"submit",className:"btn",disabled:r,children:"Login"})]})}),Object(b.jsxs)(w.a,{children:["New to us? ",Object(b.jsx)(S.b,{to:"/signup",children:"Sign Up"})]}),g?Object(b.jsx)(h,{error:g}):null]})})})}var T=n(42);function A(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)([]),i=Object(o.a)(s,2),l=i[0],u=i[1],h=Object(a.useState)(""),O=Object(o.a)(h,2),f=O[0],g=O[1],v=Object(a.useState)({name:"",make:"",model:"",submodel:"",year:(new Date).getFullYear(),imageURL:""}),C=Object(o.a)(v,2),y=C[0],k=C[1];function w(e){k(Object(d.a)(Object(d.a)({},y),{},Object(j.a)({},e.target.name,e.target.value)))}return Object(a.useEffect)((function(){fetch("https://vpic.nhtsa.dot.gov/api/vehicles/GetMakesForVehicleType/car?format=json").then((function(e){return e.json()})).then((function(e){var t=[{MakeName:""}].concat(Object(T.a)(e.Results));c(t)}))}),[]),Object(a.useEffect)((function(){if(""!==y.make){var e="https://vpic.nhtsa.dot.gov/api/vehicles/GetModelsForMakeYear/make/".concat(y.make,"/modelyear/").concat(y.year?y.year:Date().year,"?format=json");fetch(e).then((function(e){return e.json()})).then((function(e){u(e.Results)}))}}),[y]),Object(b.jsx)(p.a,{centered:!0,children:Object(b.jsx)(p.a.Column,{children:Object(b.jsxs)(x.a,{children:[Object(b.jsx)("label",{children:"Add a Vehicle"}),Object(b.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var n=new FormData;n.append("photo",f),n.append("name",y.name),n.append("year",y.year),n.append("make",y.make),n.append("model",y.model),n.append("submodel",y.submodel),e.handleAddCar(n)},children:[Object(b.jsx)("label",{children:"Name(Optional)"}),Object(b.jsx)("input",{onChange:w,name:"name",type:"text",placeholder:"Name"}),Object(b.jsx)("label",{children:"Year"}),Object(b.jsx)("input",{required:!0,onChange:w,name:"year",type:"number",value:y.year}),Object(b.jsx)("label",{children:"Make"}),Object(b.jsx)("select",{required:!0,onChange:w,name:"make",value:y.make,children:r.map((function(e){return Object(b.jsx)("option",{value:e.MakeName,children:e.MakeName},e.MakeName)}))}),Object(b.jsx)("label",{children:"Model"}),Object(b.jsx)("select",{required:!0,onChange:w,name:"model",value:y.model,children:l.map((function(e){return Object(b.jsx)("option",{value:e.Model_Name,children:e.Model_Name},e.Model_Name)}))}),Object(b.jsx)("label",{children:"Submodel"}),Object(b.jsx)("input",{onChange:w,name:"submodel",type:"text",placeholder:"Submodel"}),Object(b.jsx)("label",{children:"Image(Optional)"}),Object(b.jsx)("input",{type:"file",name:"photo",onChange:function(e){g(e.target.files[0])}}),Object(b.jsx)("input",{required:!0,type:"submit",value:"Add Car"})]})]})})})}var P="/api/cars";function N(e){return fetch(P,{method:"POST",body:e,headers:{Authorization:"Bearer "+v.getToken()}}).then((function(e){return e.json()}))}function D(e,t){return fetch("".concat(P,"/").concat(t),{method:"PUT",body:e,headers:{Authorization:"Bearer "+v.getToken()}}).then((function(e){return e.json()}))}function L(e){return fetch("".concat(P,"/").concat(e),{headers:{Authorization:"Bearer "+v.getToken()}}).then((function(e){return e.json()}))}function B(){return fetch(P,{headers:{Authorization:"Bearer "+v.getToken()}}).then((function(e){return e.json()}))}function q(e){return fetch("".concat(P,"/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer "+v.getToken()}})}var R=n(212),E=n(141);function I(e){var t=e.car,n=e.deleteCar,a=e.isProfile;return Object(b.jsx)(R.a,{centered:!0,children:Object(b.jsxs)(R.a.Content,{children:[Object(b.jsxs)(R.a.Header,{children:[t.name?t.name:"Untitled"," ",t.performance?"PRF":""]}),Object(b.jsxs)(R.a.Description,{children:[t.year," ",t.make," ",t.model," ",t.submodel]}),Object(b.jsx)(S.b,{to:"/cars/".concat(t._id),children:Object(b.jsx)(E.a,{src:t.imageURL?"".concat(t.imageURL):"https://react.semantic-ui.com/images/wireframe/square-image.png"})}),Object(b.jsx)("div",{className:"ui divider"}),a?void 0:Object(b.jsx)("button",{className:"ui button",onClick:function(){return n(t._id)},children:"Delete"})]})},t._id)}function F(e){var t=e.cars,n=e.deleteCar,a=e.isProfile;return Object(b.jsx)(R.a.Group,{children:t.map((function(e){return Object(b.jsx)(I,{car:e,deleteCar:n,isProfile:a},e._id)}))})}function H(e){var t=e.user,n=e.handleLogout;return Object(b.jsxs)(x.a,{clearing:!0,children:[Object(b.jsx)(O.a,{as:"h2",floated:"left",children:Object(b.jsx)(S.b,{to:"/",children:"Dashboard"})}),Object(b.jsxs)(O.a,{as:"h2",floated:"right",children:[Object(b.jsx)(S.b,{to:"/".concat(t.username),children:"Profile "}),Object(b.jsx)(S.b,{to:"",onClick:n,children:"Logout"})]})]})}n(194);function z(e){var t=e.user,n=e.handleLogout,r=Object(a.useState)([]),c=Object(o.a)(r,2),s=c[0],i=c[1];function j(){return(j=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(t);case 3:n=e.sent,i((function(e){return[n.car].concat(Object(T.a)(e))})),console.log(n.car),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0,"err");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function d(){return(d=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t);case 3:e.sent,h(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function h(){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:t=e.sent,console.log(t),i(Object(T.a)(t.cars)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0," error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){h()}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(p.a,{centered:!0,children:[Object(b.jsx)(p.a.Row,{children:Object(b.jsx)(p.a.Column,{children:Object(b.jsx)(H,{handleLogout:n,user:t})})}),Object(b.jsx)(p.a.Row,{children:Object(b.jsx)(p.a.Column,{width:5,children:Object(b.jsx)(A,{handleAddCar:function(e){return j.apply(this,arguments)}})})}),Object(b.jsx)(p.a.Row,{children:Object(b.jsx)(p.a.Column,{width:9,children:Object(b.jsx)(F,{cars:s,deleteCar:function(e){return d.apply(this,arguments)},isProfile:!1})})})]})})}var M="/api";function _(e,t){return fetch("".concat(M,"/cars/").concat(t,"/performanceUpgrades"),{method:"POST",body:JSON.stringify(e),headers:{Authorization:"Bearer "+v.getToken(),"Content-Type":"application/json"}}).then((function(e){return e.json()}))}function J(e){return fetch("".concat(M,"/performanceUpgrades/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer "+v.getToken()}}).then((function(e){return e.json()}))}var W="/api/services";function G(e){return fetch(W,{method:"POST",body:JSON.stringify(e),headers:{Authorization:"Bearer "+v.getToken(),"Content-Type":"application/json"}}).then((function(e){return e.json()}))}function Y(e){return fetch("".concat(W,"/").concat(e),{headers:{Authorization:"Bearer "+v.getToken()}}).then((function(e){return e.json()}))}function $(e){return fetch("".concat(W,"/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer "+v.getToken()}})}function V(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(e.car.performance),i=Object(o.a)(s,2),l=i[0],u=i[1];console.log(e.car.performance);var h=Object(a.useState)({name:"",imageURL:"",performance:!1}),O=Object(o.a)(h,2),f=O[0],g=O[1];function v(e){"performance"===e.target.name&&u(!l),g(Object(d.a)(Object(d.a)({},f),{},Object(j.a)({},e.target.name,e.target.value)))}return Object(b.jsx)(p.a,{children:Object(b.jsx)(p.a.Column,{children:Object(b.jsx)(x.a,{children:Object(b.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var n=new FormData;n.append("photo",r||e.car.imageURL),n.append("name",f.name?f.name:e.car.name),n.append("performance",l),e.handleUpdateCar(n)},children:[Object(b.jsx)("label",{children:"Update Name"}),Object(b.jsx)("input",{onChange:v,name:"name",type:"text",placeholder:"Name"}),Object(b.jsx)("label",{children:"Update Image"}),Object(b.jsx)("input",{type:"file",name:"photo",onChange:function(e){c(e.target.files[0])}}),Object(b.jsx)("label",{children:"Is this car a performance build? "}),Object(b.jsx)("input",{onChange:v,name:"performance",type:"checkbox",value:l,checked:l}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{required:!0,type:"submit",value:"Update Car"})]})})})})}function X(e){var t=Object(a.useState)({name:"",cost:"",date:"",servicer:""}),n=Object(o.a)(t,2),r=n[0],c=n[1];function s(e){c(Object(d.a)(Object(d.a)({},r),{},Object(j.a)({},e.target.name,e.target.value)))}return Object(b.jsx)(p.a,{children:Object(b.jsx)(p.a.Column,{children:Object(b.jsxs)(x.a,{children:[Object(b.jsx)("label",{children:"Add a Service"}),Object(b.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var n={name:r.name,cost:r.cost,date:r.date,servicer:r.servicer};e.handleAddService(n)},children:[Object(b.jsx)("label",{children:"Name of Service"}),Object(b.jsx)("input",{required:!0,onChange:s,name:"name",type:"text",placeholder:"Name"}),Object(b.jsx)("label",{children:"Serviced By"}),Object(b.jsx)("input",{required:!0,onChange:s,name:"servicer",type:"text",placeholder:"Serviced By"}),Object(b.jsx)("label",{children:"Cost of Service"}),Object(b.jsx)("input",{required:!0,onChange:s,name:"cost",type:"number",min:"0.01",step:"0.01",max:"100000",placeholder:"Cost"}),Object(b.jsx)("label",{children:"Date of Service"}),Object(b.jsx)("input",{required:!0,onChange:s,name:"date",type:"date",placeholder:"Cost"}),Object(b.jsx)("input",{required:!0,type:"submit",value:"Add Service"})]})]})})})}var K=n(211);function Q(e){var t=e.services,n=e.handleDeleteService,r=Object(a.useState)(!1),c=Object(o.a)(r,2),s=c[0],i=c[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(K.a,{children:[Object(b.jsx)(K.a.Header,{children:Object(b.jsxs)(K.a.Row,{children:[Object(b.jsx)(K.a.HeaderCell,{children:"Service"}),Object(b.jsx)(K.a.HeaderCell,{children:"Serviced By"}),Object(b.jsx)(K.a.HeaderCell,{children:"Cost"}),Object(b.jsx)(K.a.HeaderCell,{children:"Date"}),s?Object(b.jsx)(K.a.HeaderCell,{children:"Delete"}):void 0]})}),Object(b.jsx)(K.a.Body,{children:t.map((function(e){return Object(b.jsxs)(K.a.Row,{children:[Object(b.jsx)(K.a.Cell,{children:e.name}),Object(b.jsx)(K.a.Cell,{children:e.servicer}),Object(b.jsxs)(K.a.Cell,{children:["$",e.cost]}),Object(b.jsx)(K.a.Cell,{children:e.date.slice(0,9)}),s?Object(b.jsx)(K.a.Cell,{children:Object(b.jsx)("button",{className:"ui button",onClick:function(){return n(e._id)},children:"X"})}):void 0]},e._id)}))})]}),Object(b.jsx)("button",{className:"ui button",onClick:function(){i(!s)},children:"Update History"})]})}var Z=n(210);n(195);function ee(e){var t=Object(a.useState)({part:"",brand:"",cost:""}),n=Object(o.a)(t,2),r=n[0],c=n[1];function s(e){c(Object(d.a)(Object(d.a)({},r),{},Object(j.a)({},e.target.name,e.target.value)))}return Object(b.jsx)(p.a,{children:Object(b.jsx)(p.a.Column,{children:Object(b.jsxs)(x.a,{children:[Object(b.jsx)("label",{children:"Add a Performance Part"}),Object(b.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var n={part:r.part,brand:r.brand,cost:r.cost};e.handleAddPerformanceUpgrade(n)},children:[Object(b.jsx)("label",{children:"Part name"}),Object(b.jsx)("input",{required:!0,onChange:s,name:"part",type:"text",placeholder:"Part Name"}),Object(b.jsx)("label",{children:"Part Brand"}),Object(b.jsx)("input",{required:!0,onChange:s,name:"brand",type:"text",placeholder:"Part Brand"}),Object(b.jsx)("label",{children:"Part Price"}),Object(b.jsx)("input",{required:!0,onChange:s,name:"cost",type:"number",min:"0.01",step:"0.01",max:"100000",placeholder:"Part Price"}),Object(b.jsx)("input",{required:!0,type:"submit",value:"Add Part"})]})]})})})}function te(e){var t=e.performanceUpgrades,n=e.handleDeleteUpgrade,r=Object(a.useState)(!1),c=Object(o.a)(r,2),s=c[0],i=c[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(K.a,{children:[Object(b.jsx)(K.a.Header,{children:Object(b.jsxs)(K.a.Row,{children:[Object(b.jsx)(K.a.HeaderCell,{children:"Part"}),Object(b.jsx)(K.a.HeaderCell,{children:"Brand"}),Object(b.jsx)(K.a.HeaderCell,{children:"Cost"}),s?Object(b.jsx)(K.a.HeaderCell,{children:"Delete"}):void 0]})}),Object(b.jsx)(K.a.Body,{children:t.map((function(e){return Object(b.jsxs)(K.a.Row,{children:[Object(b.jsx)(K.a.Cell,{children:e.part}),Object(b.jsx)(K.a.Cell,{children:e.brand}),Object(b.jsxs)(K.a.Cell,{children:["$",e.cost]}),s?Object(b.jsx)(K.a.Cell,{children:Object(b.jsx)("button",{className:"ui button",onClick:function(){return n(e._id)},children:"X"})}):void 0]},e._id)}))})]}),Object(b.jsx)("button",{className:"ui button",onClick:function(){i(!s)},children:"Update Parts"})]})}function ne(e){var t=e.user,n=e.handleLogout,r=Object(s.i)().id,c=Object(a.useState)(!1),i=Object(o.a)(c,2),j=i[0],d=i[1],h=Object(a.useState)(!0),O=Object(o.a)(h,2),m=O[0],x=O[1],f=Object(a.useState)([]),g=Object(o.a)(f,2),v=g[0],C=g[1],y=Object(a.useState)([]),k=Object(o.a)(y,2),w=k[0],S=k[1],U=Object(a.useState)({name:"",make:"",model:"",year:"",imaegURL:"",performance:!1}),A=Object(o.a)(U,2),P=A[0],N=A[1];function B(){return q.apply(this,arguments)}function q(){return(q=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(r);case 3:t=e.sent,N(t.car),S(Object(T.a)(t.car.performanceUpgrades)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function R(){return(R=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t,r);case 3:e.sent,B(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(){return(E=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={car:P,name:t.name,servicer:t.servicer,cost:t.cost,date:t.date},e.next=4,G(n);case 4:a=e.sent,C([].concat(Object(T.a)(v),[a.service])),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function F(){return(F=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$(t);case 3:e.sent,z(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function z(){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(r);case 3:t=e.sent,C(Object(T.a)(t.services)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function W(){return(W=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(t,r);case 3:e.sent,B(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function K(){return(K=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(t);case 3:e.sent,B(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}Object(a.useEffect)((function(){B(),z()}),[]);var ne=function(e){x(!e)};return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(p.a,{centered:!0,divided:!0,children:[Object(b.jsx)(p.a.Row,{children:Object(b.jsx)(p.a.Column,{children:Object(b.jsx)(H,{handleLogout:n,user:t})})}),Object(b.jsxs)(p.a.Row,{columns:P.performance?3:2,children:[P.performance?Object(b.jsx)(p.a.Column,{width:5,children:"Stats Table"}):void 0,Object(b.jsxs)(p.a.Column,{width:5,textAlign:"center",children:[Object(b.jsx)(I,{car:P,isProfile:!0}),Object(b.jsx)("button",{className:"ui button",onClick:function(){d(!j)},children:"Update"}),j?Object(b.jsx)(V,{car:P,handleUpdateCar:function(e){return R.apply(this,arguments)}}):""]}),Object(b.jsx)(p.a.Column,{width:5,children:m?Object(b.jsx)(X,{handleAddService:function(e){return E.apply(this,arguments)}}):Object(b.jsx)(ee,{handleAddPerformanceUpgrade:function(e){return W.apply(this,arguments)}})})]}),Object(b.jsx)(p.a.Row,{children:Object(b.jsxs)(p.a.Column,{width:10,textAlign:"center",children:[P.performance?Object(b.jsxs)(Z.a,{pointing:!0,secondary:!0,children:[Object(b.jsx)(Z.a.Item,{name:"Services",onClick:function(){return ne(!1)}}),Object(b.jsx)(Z.a.Item,{name:"Performance",onClick:function(){return ne(!0)}})]}):void 0,m?Object(b.jsx)(Q,{services:v,handleDeleteService:function(e){return F.apply(this,arguments)}}):Object(b.jsx)(te,{performanceUpgrades:w,handleDeleteUpgrade:function(e){return K.apply(this,arguments)}})]})})]})})}n(196);function ae(e){var t=e.width,n=e.height,a=e.radius;return Object(b.jsx)("svg",{children:Object(b.jsx)("circle",{cx:t,cy:n,r:a,fill:"blue"})})}function re(e){var t=e.user,n=e.handleLogout,r=Object(a.useState)({}),c=Object(o.a)(r,2),i=c[0],j=c[1],d=Object(s.h)();function h(){return(h=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=d.pathname.substring(1),console.log(t),e.next=5,y.getProfile(t);case 5:n=e.sent,console.log(n),j((function(){return n.user})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){h.apply(this,arguments)}()}),[]),Object(b.jsxs)(p.a,{centered:!0,children:[Object(b.jsx)(p.a.Row,{children:Object(b.jsx)(p.a.Column,{children:Object(b.jsx)(H,{handleLogout:n,user:t})})}),Object(b.jsx)("h1",{children:i.username}),Object(b.jsx)(E.a,{src:i.photoUrl?"".concat(i.photoUrl):"https://react.semantic-ui.com/images/wireframe/square-image.png"}),Object(b.jsx)(p.a.Row,{children:Object(b.jsx)(p.a.Column,{width:3,children:Object(b.jsx)(ae,{width:150,height:77,radius:40})})})]})}var ce=function(){var e=Object(a.useState)(y.getUser()),t=Object(o.a)(e,2),n=t[0],r=t[1];function c(){r(y.getUser())}function i(){y.logout(),r({user:null})}return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(s.d,{children:[Object(b.jsx)(s.b,{exact:!0,path:"/login",children:Object(b.jsx)(U,{handleSignUpOrLogin:c})}),Object(b.jsx)(s.b,{exact:!0,path:"/signup",children:Object(b.jsx)(k,{handleSignUpOrLogin:c})}),y.getUser()?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(s.d,{children:[Object(b.jsx)(s.b,{exact:!0,path:"/",children:Object(b.jsx)(z,{handleLogout:i,user:n})}),Object(b.jsx)(s.b,{path:"/cars/:id",children:Object(b.jsx)(ne,{handleLogout:i,user:n})}),Object(b.jsx)(s.b,{path:"/:username",children:Object(b.jsx)(re,{handleLogout:i,user:n})})]})}):Object(b.jsx)(s.a,{to:"/login"})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(b.jsx)(S.a,{children:Object(b.jsx)(ce,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[197,1,2]]]);
//# sourceMappingURL=main.7cc90e0c.chunk.js.map